<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Babel | Confident Scientist</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="The classmates I&rsquo;m doing my final project with want to quit. We&rsquo;re trying to train an LLM to translate text, and the dataset it too large for our CPU and RAM to handle. I don&rsquo;t want to quit. Knowing what to do with large data sets is enormously important. I&rsquo;ll give feedback that they ought to include that in the curriculum. So far neither the teacher nor the TAs know what to do, but I&rsquo;m sure we can figure it out.">
    <meta name="generator" content="Hugo 0.125.5">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    

    
<link rel="stylesheet" href="/columbia-project3/ananke/css/main.min.css" >



    

    
      

    

    

    
      <link rel="canonical" href="https://housker.github.io/columbia-project3/posts/24-05-14/">
    

    <meta property="og:url" content="https://housker.github.io/columbia-project3/posts/24-05-14/">
  <meta property="og:site_name" content="Confident Scientist">
  <meta property="og:title" content="Babel">
  <meta property="og:description" content="The classmates I’m doing my final project with want to quit. We’re trying to train an LLM to translate text, and the dataset it too large for our CPU and RAM to handle. I don’t want to quit. Knowing what to do with large data sets is enormously important. I’ll give feedback that they ought to include that in the curriculum. So far neither the teacher nor the TAs know what to do, but I’m sure we can figure it out.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-14T11:12:37-10:00">
    <meta property="article:modified_time" content="2024-05-14T11:12:37-10:00">

  <meta itemprop="name" content="Babel">
  <meta itemprop="description" content="The classmates I&rsquo;m doing my final project with want to quit. We&rsquo;re trying to train an LLM to translate text, and the dataset it too large for our CPU and RAM to handle. I don&rsquo;t want to quit. Knowing what to do with large data sets is enormously important. I&rsquo;ll give feedback that they ought to include that in the curriculum. So far neither the teacher nor the TAs know what to do, but I&rsquo;m sure we can figure it out.">
  <meta itemprop="datePublished" content="2024-05-14T11:12:37-10:00">
  <meta itemprop="dateModified" content="2024-05-14T11:12:37-10:00">
  <meta itemprop="wordCount" content="243"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Babel">
<meta name="twitter:description" content="The classmates I&rsquo;m doing my final project with want to quit. We&rsquo;re trying to train an LLM to translate text, and the dataset it too large for our CPU and RAM to handle. I don&rsquo;t want to quit. Knowing what to do with large data sets is enormously important. I&rsquo;ll give feedback that they ought to include that in the curriculum. So far neither the teacher nor the TAs know what to do, but I&rsquo;m sure we can figure it out.">

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  
  <header class="cover bg-top" style="background-image: url('https://housker.github.io/columbia-project3/images/24-05-14.webp');">
    <div class="bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/columbia-project3/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Confident Scientist
      
    </a>
    <div class="flex-l items-center">
      
<h4></h4>
<ul class="pl0 mr3">
    
    <li class="list f5 f4-ns fw4 dib pr3">
        <a class="hover-white no-underline white-90" href="/columbia-project3/es/posts/24-05-14/">es</a>
    </li>
    
    <li class="list f5 f4-ns fw4 dib pr3">
        <a class="hover-white no-underline white-90" href="/columbia-project3/fr/posts/24-05-14/">fr</a>
    </li>
    
    <li class="list f5 f4-ns fw4 dib pr3">
        <a class="hover-white no-underline white-90" href="/columbia-project3/no/posts/24-05-14/">no</a>
    </li>
    
    <li class="list f5 f4-ns fw4 dib pr3">
        <a class="hover-white no-underline white-90" href="/columbia-project3/ar/posts/24-05-14/">ar</a>
    </li>
    
</ul>


      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/columbia-project3/posts/" title="Posts page">
              Posts
            </a>
          </li>
          
        </ul>
      
      
<div class="ananke-socials">
  
    
    <a href="https://twitter.com/AHousker" target="_blank" rel="noopener" class="twitter ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Twitter link" aria-label="follow on Twitter——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
</div>

    </div>
  </div>
</nav>

      <div class="tc-l pv6 ph3 ph4-ns">
        
          <div class="f2 f1-l fw2 white-90 mb0 lh-title">Babel</div>
          
        
      </div>
    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
      
      <a href="https://twitter.com/intent/tweet?url=https://housker.github.io/columbia-project3/posts/24-05-14/&amp;text=Babel" class="ananke-social-link twitter no-underline" aria-label="share on Twitter">
        
        <span class="icon"> <svg style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>
</span>
        
      </a>
    
  </div>


      <h1 class="f1 athelas mt3 mb1">Babel</h1>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2024-05-14T11:12:37-10:00">May 14, 2024</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>The classmates I&rsquo;m doing my final project with want to quit. We&rsquo;re trying to <a href="https://kaitchup.substack.com/p/datasets-to-train-validate-and-evaluate-machine-translation-d61905d126aa">train</a> an LLM to translate text, and the <a href="https://www.kaggle.com/datasets/ramakrishnan1984/785-million-language-translation-database-ai-ml">dataset</a> it too large for our CPU and RAM to handle. I don&rsquo;t want to quit. Knowing what to do with large data sets is enormously important. I&rsquo;ll give feedback that they ought to include that in the curriculum. So far neither the teacher nor the TAs know what to do, but I&rsquo;m sure we can figure it out.</p>
<p>Once we train our own model, I&rsquo;ll replace <a href="https://cloud.google.com/translate?hl=en">Google&rsquo;s API</a>, which I&rsquo;m using currently to <a href="https://github.com/housker/blog/blob/main/translate/translate.go">generate</a> Spanish, French, and Norwegian content from my English posts.</p>
<p>There is an <a href="https://cloud.google.com/translate/docs/intro-to-v3">advanced</a> version of the API I am currently using that does permit custom models. It is likely integrated with Google <a href="https://cloud.google.com/storage/docs/samples/storage-transfer-manager-download-chunks-concurrently">Cloud Storage</a>. That would be a good idea for production if budget permits, but for the purposes of education, I&rsquo;m inclined to build one from scratch for practice, though the accuracy would likely be poorer and the infrastructure less polished. <a href="https://pandas.pydata.org/docs/user_guide/scale.html">Pandas</a> and <a href="https://scikit-learn.org/stable/computing/scaling_strategies.html">Scikit</a> provide guides for dealing with large datasets. Perplexity recommends using <a href="https://cloud.google.com/dataflow?hl=en">Dataflow</a> and Apache Beam, but if you follow the <a href="https://huggingface.co/docs/datasets/en/filesystems">link</a>, you&rsquo;ll see it&rsquo;s deprecated in Hugging Face. The website does list <a href="https://huggingface.co/docs/datasets/en/filesystems">alternatives</a>. Polars is mentioned in <a href="https://www.reddit.com/r/dataengineering/comments/13n2f63/how_to_process_data_larger_than_memory_using_a/">Reddit</a>. Interestingly, that is not mentioned as a recommended <a href="https://pandas.pydata.org/community/ecosystem.html#out-of-core">library</a> by Pandas, though Dask is, and is mentioned in this <a href="https://stackoverflow.com/questions/56823593/how-to-read-chunks-of-multiple-large-csv-files-from-google-cloud-storage-using-d">StackOverflow</a> post.</p>
<p>I can&rsquo;t figure out why they were ever punished for building that tower.</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://housker.github.io/columbia-project3/" >
    &copy;  Confident Scientist 2024 
  </a>
    <div>
<div class="ananke-socials">
  
    
    <a href="https://twitter.com/AHousker" target="_blank" rel="noopener" class="twitter ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Twitter link" aria-label="follow on Twitter——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
</div>
</div>
  </div>
</footer>

  </body>
</html>
